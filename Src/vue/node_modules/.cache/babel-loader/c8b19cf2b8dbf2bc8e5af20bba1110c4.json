{"remainingRequest":"C:\\Users\\15462\\Desktop\\xiang-hua-master\\xiang-hua-master\\Src\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\15462\\Desktop\\xiang-hua-master\\xiang-hua-master\\Src\\vue\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\15462\\Desktop\\xiang-hua-master\\xiang-hua-master\\Src\\vue\\src\\utils\\request.js","mtime":1695380335956},{"path":"C:\\Users\\15462\\Desktop\\xiang-hua-master\\xiang-hua-master\\Src\\vue\\babel.config.js","mtime":1687783068000},{"path":"C:\\Users\\15462\\Desktop\\xiang-hua-master\\xiang-hua-master\\Src\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\15462\\Desktop\\xiang-hua-master\\xiang-hua-master\\Src\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwppbXBvcnQgeyBzZXJ2ZXJJcCB9IGZyb20gIi4uLy4uL3B1YmxpYy9jb25maWciOwpjb25zdCByZXF1ZXN0ID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBgaHR0cDovLyR7c2VydmVySXB9OjgwODBgLAogIHRpbWVvdXQ6IDMwMDAwCn0pOwoKLy8gcmVxdWVzdCDmi6bmiKrlmagKLy8g5Y+v5Lul6Ieq6K+35rGC5Y+R6YCB5YmN5a+56K+35rGC5YGa5LiA5Lqb5aSE55CGCi8vIOavlOWmgue7n+S4gOWKoHRva2Vu77yM5a+56K+35rGC5Y+C5pWw57uf5LiA5Yqg5a+GCnJlcXVlc3QuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGNvbmZpZyA9PiB7CiAgY29uZmlnLmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdID0gImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCI7CiAgbGV0IHVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKSA6IG51bGw7CiAgaWYgKHVzZXIpIHsKICAgIGNvbmZpZy5oZWFkZXJzWyJ0b2tlbiJdID0gdXNlci50b2tlbjsgLy8g6K6+572u6K+35rGC5aS0CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBlcnJvciA9PiB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CgovLyByZXNwb25zZSDmi6bmiKrlmagKLy8g5Y+v5Lul5Zyo5o6l5Y+j5ZON5bqU5ZCO57uf5LiA5aSE55CG57uT5p6cCnJlcXVlc3QuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXNwb25zZSA9PiB7CiAgbGV0IHJlcyA9IHJlc3BvbnNlLmRhdGE7CiAgLy8g5aaC5p6c5piv6L+U5Zue55qE5paH5Lu2CiAgaWYgKHJlc3BvbnNlLmNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICJibG9iIikgewogICAgcmV0dXJuIHJlczsKICB9CiAgLy8g5YW85a655pyN5Yqh56uv6L+U5Zue55qE5a2X56ym5Liy5pWw5o2uCiAgaWYgKHR5cGVvZiByZXMgPT09ICJzdHJpbmciKSB7CiAgICByZXMgPSByZXMgPyBKU09OLnBhcnNlKHJlcykgOiByZXM7CiAgfQogIC8vIOW9k+adg+mZkOmqjOivgeS4jemAmui/h+eahOaXtuWAmee7meWHuuaPkOekugogIGlmIChyZXMuY29kZSA9PT0gIjQwMSIpIHsKICAgIC8vIEVsZW1lbnRVSS5NZXNzYWdlKHsKICAgIC8vICAgICBtZXNzYWdlOiByZXMubXNnLAogICAgLy8gICAgIHR5cGU6ICdlcnJvcicKICAgIC8vIH0pOwogICAgcm91dGVyLnB1c2goIi9sb2dpbiIpOwogIH0KICByZXR1cm4gcmVzOwp9LCBlcnJvciA9PiB7CiAgY29uc29sZS5sb2coImVyciIgKyBlcnJvcik7IC8vIGZvciBkZWJ1ZwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCByZXF1ZXN0Ow=="},{"version":3,"names":["axios","router","serverIp","request","create","baseURL","timeout","interceptors","use","config","headers","user","localStorage","getItem","JSON","parse","token","error","Promise","reject","response","res","data","responseType","code","push","console","log"],"sources":["C:/Users/15462/Desktop/xiang-hua-master/xiang-hua-master/Src/vue/src/utils/request.js"],"sourcesContent":["import axios from \"axios\";\nimport router from \"@/router\";\nimport { serverIp } from \"../../public/config\";\n\nconst request = axios.create({\n  baseURL: `http://${serverIp}:8080`,\n  timeout: 30000,\n});\n\n// request 拦截器\n// 可以自请求发送前对请求做一些处理\n// 比如统一加token，对请求参数统一加密\nrequest.interceptors.request.use(\n  (config) => {\n    config.headers[\"Content-Type\"] = \"application/json;charset=utf-8\";\n    let user = localStorage.getItem(\"user\")\n      ? JSON.parse(localStorage.getItem(\"user\"))\n      : null;\n    if (user) {\n      config.headers[\"token\"] = user.token; // 设置请求头\n    }\n\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// response 拦截器\n// 可以在接口响应后统一处理结果\nrequest.interceptors.response.use(\n  (response) => {\n    let res = response.data;\n    // 如果是返回的文件\n    if (response.config.responseType === \"blob\") {\n      return res;\n    }\n    // 兼容服务端返回的字符串数据\n    if (typeof res === \"string\") {\n      res = res ? JSON.parse(res) : res;\n    }\n    // 当权限验证不通过的时候给出提示\n    if (res.code === \"401\") {\n      // ElementUI.Message({\n      //     message: res.msg,\n      //     type: 'error'\n      // });\n      router.push(\"/login\");\n    }\n    return res;\n  },\n  (error) => {\n    console.log(\"err\" + error); // for debug\n    return Promise.reject(error);\n  }\n);\n\nexport default request;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,UAAU;AAC7B,SAASC,QAAQ,QAAQ,qBAAqB;AAE9C,MAAMC,OAAO,GAAGH,KAAK,CAACI,MAAM,CAAC;EAC3BC,OAAO,EAAG,UAASH,QAAS,OAAM;EAClCI,OAAO,EAAE;AACX,CAAC,CAAC;;AAEF;AACA;AACA;AACAH,OAAO,CAACI,YAAY,CAACJ,OAAO,CAACK,GAAG,CAC7BC,MAAM,IAAK;EACVA,MAAM,CAACC,OAAO,CAAC,cAAc,CAAC,GAAG,gCAAgC;EACjE,IAAIC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,GACnCC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,GACxC,IAAI;EACR,IAAIF,IAAI,EAAE;IACRF,MAAM,CAACC,OAAO,CAAC,OAAO,CAAC,GAAGC,IAAI,CAACK,KAAK,CAAC,CAAC;EACxC;;EAEA,OAAOP,MAAM;AACf,CAAC,EACAQ,KAAK,IAAK;EACT,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CACF;;AAED;AACA;AACAd,OAAO,CAACI,YAAY,CAACa,QAAQ,CAACZ,GAAG,CAC9BY,QAAQ,IAAK;EACZ,IAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAI;EACvB;EACA,IAAIF,QAAQ,CAACX,MAAM,CAACc,YAAY,KAAK,MAAM,EAAE;IAC3C,OAAOF,GAAG;EACZ;EACA;EACA,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;IAC3BA,GAAG,GAAGA,GAAG,GAAGP,IAAI,CAACC,KAAK,CAACM,GAAG,CAAC,GAAGA,GAAG;EACnC;EACA;EACA,IAAIA,GAAG,CAACG,IAAI,KAAK,KAAK,EAAE;IACtB;IACA;IACA;IACA;IACAvB,MAAM,CAACwB,IAAI,CAAC,QAAQ,CAAC;EACvB;EACA,OAAOJ,GAAG;AACZ,CAAC,EACAJ,KAAK,IAAK;EACTS,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGV,KAAK,CAAC,CAAC,CAAC;EAC5B,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CACF;AAED,eAAed,OAAO"}]}